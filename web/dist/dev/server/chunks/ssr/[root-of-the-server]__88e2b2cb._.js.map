{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///home/maxi/Documentos/source/codecrypto/practice/documentSignStorage/web/src/components/DocumentVerification.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocumentVerification = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentVerification() from the server but DocumentVerification is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/DocumentVerification.tsx <module evaluation>\",\n    \"DocumentVerification\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,uBAAuB,IAAA,wQAAuB,EACvD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,yEACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///home/maxi/Documentos/source/codecrypto/practice/documentSignStorage/web/src/components/DocumentVerification.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const DocumentVerification = registerClientReference(\n    function() { throw new Error(\"Attempted to call DocumentVerification() from the server but DocumentVerification is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/DocumentVerification.tsx\",\n    \"DocumentVerification\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,uBAAuB,IAAA,wQAAuB,EACvD;IAAa,MAAM,IAAI,MAAM;AAAwP,GACrR,qDACA","ignoreList":[0]}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/maxi/Documentos/source/codecrypto/practice/documentSignStorage/web/src/components/DocumentVerification.tsx"],"sourcesContent":["\"use client\"\nimport React from 'react';\nimport { useState } from 'react';\nimport { FileSelector } from '@/components/FileSelector';\nimport { SignerAddressInput } from '@/components/SignerAddressInput';\nimport { VerificationResult } from '@/components/VerificationResult';\nimport { useFileHash } from '@/hooks/useFileHash';\nimport { useContract } from '@/lib/contract';\nimport { ethers } from 'ethers';\n\nexport function DocumentVerification() {\n  const [file, setFile] = useState<File | null>(null);\n  const [signerAddress, setSignerAddress] = useState<string>(\"\");\n  const [verificationResult, setVerificationResult] = useState<{\n    isValid: boolean | null;\n    details: {\n      hash: string;\n      signer: string;\n      timestamp: number;\n      documentName: string;\n      transactionHash: string;\n    } | null;\n    error: string | null;\n  }>({ isValid: null, details: null, error: null });\n  \n  const { fileHash, isHashing, error: hashError, hashFile, clearHash } = useFileHash();\n  const { \n    verifyDocument, \n    getDocumentInfo,\n    isLoading: contractLoading,\n    error: contractError,\n    provider\n  } = useContract();\n  \n  const handleFileSelect = (selectedFile: File) => {\n    setFile(selectedFile);\n    clearHash();\n    setVerificationResult({ isValid: null, details: null, error: null });\n  };\n  \n  const handleFileRemove = () => {\n    setFile(null);\n    clearHash();\n    setVerificationResult({ isValid: null, details: null, error: null });\n  };\n  \n  const handleSignerAddressChange = (address: string) => {\n    setSignerAddress(address);\n    setVerificationResult({ isValid: null, details: null, error: null });\n  };\n  \n  const handleVerify = async () => {\n    if (!file) {\n      setVerificationResult({ \n        isValid: false, \n        details: null, \n        error: 'Please select a document to verify' \n      });\n      return;\n    }\n    \n    if (!signerAddress) {\n      setVerificationResult({ \n        isValid: false, \n        details: null, \n        error: 'Please enter a signer address' \n      });\n      return;\n    }\n    \n    try {\n      setVerificationResult({ \n        isValid: null, \n        details: null, \n        error: null \n      });\n      \n      // Validate signer address format\n      if (!ethers.isAddress(signerAddress)) {\n        setVerificationResult({ \n          isValid: false, \n          details: null, \n          error: 'Invalid signer address format' \n        });\n        return;\n      }\n      \n      // Hash the file\n      const hash = await hashFile(file);\n      \n      // Verify document on blockchain\n      // Since we're using Anvil accounts, we can sign the message with the provider\n      const signer = await provider.getSigner(signerAddress);\n      // Sign the document hash\n      const signature = await signer.signMessage(ethers.getBytes(hash));\n      // Verify document on blockchain with signature\n      const isValid = await verifyDocument(hash, signerAddress, signature);\n      \n      if (isValid) {\n        // Get document details\n        const info = await getDocumentInfo(hash);\n        \n        if (info) {\n          setVerificationResult({\n            isValid: true,\n            details: {\n              hash,\n              signer: info.signer,\n              timestamp: info.timestamp,\n              documentName: file.name,\n              transactionHash: \"0x\" + \"1\".repeat(64) // Placeholder - in real app, this would come from transaction receipt\n            },\n            error: null\n          });\n        } else {\n          setVerificationResult({\n            isValid: false,\n            details: { hash, signer: signerAddress, timestamp: Date.now() / 1000, documentName: file.name, transactionHash: \"\" },\n            error: 'Signer address does not match document owner'\n          });\n        }\n      } else {\n        setVerificationResult({\n          isValid: false,\n          details: { hash, signer: signerAddress, timestamp: Date.now() / 1000, documentName: file.name, transactionHash: \"\" },\n          error: 'Document not found on blockchain'\n        });\n      }\n    } catch (err) {\n      const errorMessage = err instanceof Error ? err.message : 'Unknown error';\n      setVerificationResult({\n        isValid: false,\n        details: fileHash ? { \n          hash: fileHash, \n          signer: signerAddress, \n          timestamp: Date.now() / 1000, \n          documentName: file.name, \n          transactionHash: \"\" \n        } : null,\n        error: errorMessage\n      });\n    }\n  };\n  \n  const isVerifying = isHashing || contractLoading;\n  \n  return (\n    <div className=\"space-y-8\">\n      <div>\n        <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center\">\n          <svg className=\"w-6 h-6 mr-3 text-purple-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\"></path>\n          </svg>\n          Verify Document Signature\n        </h2>\n        <p className=\"text-gray-600 dark:text-gray-300 mb-8 flex items-center\">\n          <svg className=\"w-5 h-5 mr-2 text-blue-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\"></path>\n          </svg>\n      Upload a document and enter the signer's blockchain address to verify its digital signature.\n        </p>\n      </div>\n      \n      <FileSelector \n        onFileSelect={handleFileSelect} \n        onFileRemove={handleFileRemove} \n      />\n      \n      <SignerAddressInput \n        value={signerAddress} \n        onChange={handleSignerAddressChange} \n      />\n\n      {verificationResult.isValid !== null && (\n        <VerificationResult result={verificationResult} />\n      )}\n      \n      <div className=\"flex justify-end\">\n        <button\n          onClick={handleVerify}\n          disabled={!file || !signerAddress || isVerifying}\n          className=\"btn btn-primary px-8 py-3 text-lg flex items-center space-x-2 transition-all duration-200 hover:shadow-2xl\"\n        >\n          {isVerifying ? (\n            <>\n              <svg className=\"animate-spin w-5 h-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Verifying...\n            </>\n          ) : (\n            <>\n              Verify\n              <svg className=\"ml-2 w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\"></path>\n              </svg>\n            </>\n          )}\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","_regeneratorRuntime","e","t","r","Object","n","hasOwnProperty","defineProperty","value","i","a","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","_catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","Array","from","test","isArray","React","useState","FileSelector","SignerAddressInput","VerificationResult","useFileHash","useContract","ethers","DocumentVerification","_useState","_useState2","file","setFile","_useState3","_useState4","signerAddress","setSignerAddress","_useState5","isValid","details","error","_useState6","verificationResult","setVerificationResult","_useFileHash","fileHash","isHashing","hashError","hashFile","clearHash","_useContract","verifyDocument","getDocumentInfo","contractLoading","isLoading","contractError","provider","handleFileSelect","selectedFile","handleFileRemove","handleSignerAddressChange","address","handleVerify","_ref","_callee","hash","signer","signature","info","errorMessage","_t","_context","isAddress","getSigner","signMessage","getBytes","timestamp","documentName","transactionHash","repeat","Date","now","message","isVerifying","createElement","className","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","onFileSelect","onFileRemove","onChange","result","onClick","disabled","Fragment","cx","cy","fillRule","clipRule"],"mappings":"","ignoreList":[]}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///home/maxi/Documentos/source/codecrypto/practice/documentSignStorage/web/src/app/page.tsx"],"sourcesContent":["import React from 'react';\nimport Image from \"next/image\";\nimport { DocumentVerification } from '@/components/DocumentVerification';\n\nexport default function Home() {\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      <div className=\"absolute inset-0 bg-grid-white/[0.02] bg-[size:60px_60px]\" />\n      <div className=\"relative flex min-h-screen items-center justify-center px-4 py-12 sm:px-6 lg:px-8\">\n        <div className=\"w-full max-w-4xl\">\n          <div className=\"card header-glow overflow-hidden\">\n            <div className=\"px-8 py-6 border-b border-gray-200 dark:border-gray-800 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-900/50\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"flex-shrink-0\">\n                  <div className=\"w-10 h-10 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 flex items-center justify-center\">\n                    <svg className=\"w-6 h-6 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path>\n                    </svg>\n                  </div>\n                </div>\n                <div>\n                  <h1 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\n                    DocumentSign\n                  </h1>\n                  <p className=\"text-sm text-gray-600 dark:text-gray-300\">\n                    Secure document verification on the blockchain\n                  </p>\n                </div>\n                <div className=\"ml-auto flex items-center space-x-2\">\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\n                  <span className=\"text-xs text-gray-500 dark:text-gray-400\">Connected to Anvil</span>\n                </div>\n              </div>\n            </div>\n            <div className=\"p-8\">\n              <DocumentVerification />\n            </div>\n          </div>\n          <p className=\"mt-8 text-center text-sm text-gray-400\">\n            Powered by Ethereum blockchain • Immutable verification • Web3 security\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":["React","DocumentVerification","Home","createElement","className","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d"],"mappings":";;;;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,SAASC,oBAAoB,QAAQ,mCAAmC;;;AAEzD,SAASC,IAAIA,CAAA,EAAG;IAC7B,OAAA,WAAA,GACEF,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAA2E,GAAA,WAAA,GACxFJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAA2D,CAAE,CAAC,EAAA,WAAA,GAC7EJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAmF,GAAA,WAAA,GAChGJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAkB,GAAA,WAAA,GAC/BJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAkC,GAAA,WAAA,GAC/CJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAA6I,GAAA,WAAA,GAC1JJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAA6B,GAAA,WAAA,GAC1CJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAe,GAAA,WAAA,GAC5BJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAoG,GAAA,WAAA,GACjHJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC,oBAAoB;QAACC,IAAI,EAAC,MAAM;QAACC,MAAM,EAAC,cAAc;QAACC,OAAO,EAAC,WAAW;QAACC,KAAK,EAAC;IAA4B,GAAA,WAAA,GAC1HR,gNAAA,CAAAG,aAAA,CAAA,QAAA;QAAMM,aAAa,EAAC,OAAO;QAACC,cAAc,EAAC,OAAO;QAACC,WAAW,EAAC,GAAG;QAACC,CAAC,EAAC;IAAsH,CAAO,CAC/L,CACF,CACF,CAAC,EAAA,WAAA,GACNZ,gNAAA,CAAAG,aAAA,CAAA,OAAA,MAAA,WAAA,GACEH,gNAAA,CAAAG,aAAA,CAAA,MAAA;QAAIC,SAAS,EAAC;IAAkD,GAAC,cAE7D,CAAC,EAAA,WAAA,GACLJ,gNAAA,CAAAG,aAAA,CAAA,KAAA;QAAGC,SAAS,EAAC;IAA0C,GAAC,gDAErD,CACA,CAAC,EAAA,WAAA,GACNJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAqC,GAAA,WAAA,GAClDJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAmC,CAAM,CAAC,EAAA,WAAA,GACzDJ,gNAAA,CAAAG,aAAA,CAAA,QAAA;QAAMC,SAAS,EAAC;IAA0C,GAAC,oBAAwB,CAChF,CACF,CACF,CAAC,EAAA,WAAA,GACNJ,gNAAA,CAAAG,aAAA,CAAA,OAAA;QAAKC,SAAS,EAAC;IAAK,GAAA,WAAA,GAClBJ,gNAAA,CAAAG,aAAA,CAACF,kKAAoB,EAAA,IAAE,CACpB,CACF,CAAC,EAAA,WAAA,GACND,gNAAA,CAAAG,aAAA,CAAA,KAAA;QAAGC,SAAS,EAAC;IAAwC,GAAC,mFAEnD,CACA,CACF,CACF,CAAC;AAEV","ignoreList":[]}}]
}